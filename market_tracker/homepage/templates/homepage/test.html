{% load static %}
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta charset="UTF-8">
  {% if title %}
    <title>Market Tracker - {{ title }}</title>
  {%else %}
    <title>Market Tracker</title>
  {% endif %}
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Raleway:400,100|Roboto+Condensed:700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="{% static 'homepage/css/style.css' %}" />
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <link rel="stylesheet" href="{% static 'users/css/login_form.css' %}">
</head>

<body style="overflow: hidden;">

  {% if request.method == 'GET' %}
    <div class="loading">
      <div class="svg-wrapper">
        <svg height="150" width="150" xmlns="http://www.w3.org/2000/svg">
        <rect class="animate" height="150" width="150" />
      </svg>
        <div class="text">
          <span class="logo">Market Tracker</span>
          <span class="motto">we track stocks.</span>
        </div>
      </div>
    </div>
  {% endif %}

  <script>
    var p = document.querySelector('.animate'),
      offset = 600;
    var offsetMe = function() {
      if (offset < 0) {
        offset = 600;
      }
      p.style.strokeDashoffset = offset;
      offset = offset - 5;
      requestAnimationFrame(offsetMe);
    }
    offsetMe();
  </script>

  <header>
    <span id="logo">Market Tracker</span>
    <nav>
      <a href="#">Home</a>
      <a href="#">Blog</a>
      <a href="#">About</a>
      <a href="{% url 'login' %}">Login</a>
      <a href="{% url 'register' %}">Register</a>
    </nav>
  </header>



  <div class="wrapper">

    {% if request.method == 'GET' %}
      <div class="landing">
    {% else %}
      <div class="landing-post">
    {% endif %}
        <div class="login-text">
          <h1>Login</h1>
        </div>
        <div class="form-content">
          {% if form.errors %}
            <div style="display: flex; flex-direction: column; align-items: center;">
              <p style="top: 20px; position: absolute; z-index: 99999; width: 100%; text-align: center; color: #FFFFFF;">Username or password is wrong</p>
            </div>
          {% endif %}
          <form method="POST">
            {% csrf_token %}
            <div class="field">
              <span class="fa fa-user"></span>
              <input type="text" required placeholder="Login" name="username">
            </div>
            <div class="field space">
              <span class="fa fa-lock"></span>
              <input type="password" class="pass-key" required placeholder="Password" name="password">
              <span class="show">SHOW</span>
            </div>
            <div class="pass">
              <a href="#">Forgot Password?</a>
            </div>
            <div class="field">
              <input type="submit" value="LOGIN">
            </div>
          </form>
          <div class="signup">Don't have account?
            <a href="{% url 'register' %}">Signup Now</a>
          </div>
        </div>
    </div>
  </div>

    <div class="hideme">
      <h1>Market Tracker</h1>
    </div>

  <script  src="{% static 'homepage/js/script.js' %}"></script>
  <script  src="{% static 'users/js/script_form.js' %}"></script>

  </body>
</html>
